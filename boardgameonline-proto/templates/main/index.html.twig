{% extends 'base.html.twig' %}

{% block title %}Hello MainController!{% endblock %}


{% block stylesheets %}
    {{ encore_entry_link_tags('filter') }}
{% endblock %}


{% block body %}
    <div id="player-slider" style="min-height: 50px;"></div>
    <div class="row">
        {#      Début de Sidebar #}
        <div class="col-3 filter">
            {#                Filtre par catégorie#}
            <div class="ps-3 card" >
                <div class="form-check">
                    {% include 'components/_filter.html.twig' with {form: form} only %}
                </div>
            </div>
            {#            Carousel#}
            {#            {% include "components/carousel.html.twig" %}#}
        </div>

        {#      Main Gamelist#}
        <div class="row col-9 justify-content-center ms-2 gap-5 ">
            <h1 class="text-center">Liste des jeux</h1>

            {% for game in games %}
{#                Refactor components card game#}
                <div class="row col-3 text-center justify-content-center card">
                    <div>{{ game.name }}</div>
                    <div><img src="/image/template_img_JPEG_w240_h160_bg_000_text_fff.jpg" alt="template" ></div>
                    <div class="mt-3 mb-3 row justify-content-between">
                        {% if app.user == false %}
                            <div class="col-6"><a class="btn btn-outline-success" href="{{ path('app_login') }}">Jouer</a></div>
                        {% else %}
                            <div class="col-6"><a class="btn btn-outline-success" href="{{ path('app_gameroom_index', {id: game.id}) }}">Jouer</a></div>
                        {% endif %}
                        <div class="col-6"><a class="btn btn-outline-success" href="{{ path('app_game_show', {id: game.id}) }}">Détails</a></div>
                    </div>
                </div>
            {% endfor %}
            <div class="mt-4 ms-5">
                {{ knp_pagination_render(games) }}
            </div>
        </div>

        {#      Footer - Pagination #}

    </div>
{% endblock %}
